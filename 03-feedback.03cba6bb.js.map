{"mappings":"qhBAIA,IAAAA,EAAAC,EAAA,SAGoB,MAAdC,EAAeC,SAASC,cAAc,kBAGtCC,EAAiBH,EAAaE,cAAc,uBAG5CE,EAAmBJ,EAAaE,cAAc,4BAM9CG,EAAgBC,EAAAR,EAAA,EAAS,KAC7B,MAAMS,EAAY,CAChBC,MAAOL,EAAeM,MACtBC,QAASN,EAAiBK,OAE5BE,aAAaC,QARU,sBAQgBC,KAAKC,UAAUP,GAAW,GAChE,KAcuEP,EAA7De,iBAAiB,QAASV,GAEvCJ,SAASc,iBAAiB,oBAbJ,KACpB,MAAMC,EAAaL,aAAaM,QAbT,uBAevB,GAAID,EAAY,CACd,MAAMT,EAAYM,KAAKK,MAAMF,GAC7Bb,EAAeM,MAAQF,EAAUC,MACjCJ,EAAiBK,MAAQF,EAAUG,O,KAUwBV,EAAlDe,iBAAiB,UAAUI,IACtCA,EAAMC,iBAEN,MAAMb,EAAY,CAChBC,MAAOL,EAAeM,MACtBC,QAASN,EAAiBK,OAE5BY,QAAQC,IAAI,oBAAoCf,GAGhDI,aAAaY,WAtCU,uBAuCvBpB,EAAeM,MAAQ,GACvBL,EAAiBK,MAAQ,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["// нужно сохранять значения полей инпута в локальное хранилище\n// когда пользователь что то напечатал и отправил форму\n\n// импортируем throttle\nimport throttle from 'lodash/throttle';\n\n// получаем доступ к форме\nconst feedbackForm = document.querySelector('.feedback-form');\n\n// получаем доступ к инпуту почты\nconst emailFormInput = feedbackForm.querySelector('input[name=\"email\"]');\n\n//получаем доступ к инпуту сообщения\nconst messageFormInput = feedbackForm.querySelector('textarea[name=\"message\"]');\n\n// создаем локальное хранилище\nconst localStorageInfo = 'feedback-form-state';\n\n// функция для сохранения состаяния формы\nconst saveFormState = throttle(() => {\n  const formState = {\n    email: emailFormInput.value,\n    message: messageFormInput.value,\n  };\n  localStorage.setItem(localStorageInfo, JSON.stringify(formState));\n}, 500);\n\n// функция для загрузки состояния формы\nconst loadFormState = () => {\n  const savedStore = localStorage.getItem(localStorageInfo);\n\n  if (savedStore) {\n    const formState = JSON.parse(savedStore);\n    emailFormInput.value = formState.email;\n    messageFormInput.value = formState.message;\n  }\n};\n\n// обрабатываем событие и вешаем слушателя на инпут, сохраняем инфу в локальное хранилище\nfeedbackForm.addEventListener('input', saveFormState);\n\ndocument.addEventListener('DOMContentLoaded', loadFormState);\n\n// вешаем слушателя события на отправку формы и выводим информацию в консоль\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const formState = {\n    email: emailFormInput.value,\n    message: messageFormInput.value,\n  };\n  console.log('Форма отправлена:', formState);\n\n  // очищаем локальное  хранилище от полей формы\n  localStorage.removeItem(localStorageInfo);\n  emailFormInput.value = '';\n  messageFormInput.value = '';\n});\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$emailFormInput","$945622fd0f572e60$var$messageFormInput","$945622fd0f572e60$var$saveFormState","$parcel$interopDefault","formState","email","value","message","localStorage","setItem","JSON","stringify","addEventListener","savedStore","getItem","parse","event","preventDefault","console","log","removeItem"],"version":3,"file":"03-feedback.03cba6bb.js.map"}